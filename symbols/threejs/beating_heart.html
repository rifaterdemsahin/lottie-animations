<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beating Heart</title>
    <link rel="stylesheet" href="shared/prompt.css">
</head>
<body>
    <div class="prompt-container">
        <p>Create an HTML file that uses three.js to render a beating heart animation.</p>
        <textarea id="prompt-textbox" readonly>Create an HTML file that uses three.js to render a beating heart animation.

1.  Set up the basic HTML structure with a canvas element.
2.  Import the necessary three.js modules.
3.  Create a scene, camera, and renderer.
4.  Create a heart shape using `THREE.Shape`.
5.  Create a `ShapeGeometry` from the heart shape.
6.  Create a `MeshStandardMaterial` with a red color.
7.  Create a mesh with the geometry and material, and add it to the scene.
8.  Add ambient and point lights to the scene.
9.  Implement an animation loop that scales the heart up and down to create a beating effect.
10. Add an event listener to handle window resizing.</textarea>
        <button id="copy-button">Copy Prompt</button>
    </div>




    <script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js"
        }
    }
    </script>
    <script type="module">
        import * as THREE from 'three';

        const scene = new THREE.Scene();
        scene.background = new THREE.Color(0x111111);

        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        camera.position.z = 5;

        const renderer = new THREE.WebGLRenderer();
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        const shape = new THREE.Shape();
        const x = -1;
        const y = -1.5;
        shape.moveTo(x + 0.5, y + 0.5);
        shape.bezierCurveTo(x + 0.5, y + 0.5, x + 0.4, y, x, y);
        shape.bezierCurveTo(x - 0.6, y, x - 0.6, y + 0.7, x - 0.6, y + 0.7);
        shape.bezierCurveTo(x - 0.6, y + 1.1, x - 0.3, y + 1.54, x + 0.5, y + 1.9);
        shape.bezierCurveTo(x + 1.2, y + 1.54, x + 1.6, y + 1.1, x + 1.6, y + 0.7);
        shape.bezierCurveTo(x + 1.6, y + 0.7, x + 1.6, y, x + 1.0, y);
        shape.bezierCurveTo(x + 0.7, y, x + 0.5, y + 0.5, x + 0.5, y + 0.5);

        const geometry = new THREE.ShapeGeometry(shape);
        const material = new THREE.MeshStandardMaterial({ color: 0xff0000 });
        const heart = new THREE.Mesh(geometry, material);
        scene.add(heart);

        const ambientLight = new THREE.AmbientLight(0x404040);
        scene.add(ambientLight);

        const pointLight = new THREE.PointLight(0xffffff, 100);
        pointLight.position.set(2, 3, 4);
        scene.add(pointLight);

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        let scale = 1;
        let direction = 1;
        function animate() {
            requestAnimationFrame(animate);
            if (scale > 1.1) {
                direction = -1;
            }
            if (scale < 1) {
                direction = 1;
            }
            scale += direction * 0.005;
            heart.scale.set(scale, scale, scale);
            renderer.render(scene, camera);
        }

        animate();
    </script>
    <script src="shared/prompt.js"></script>
</body>
</html>
